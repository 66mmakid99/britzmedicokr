---
import BaseLayout from '@layouts/BaseLayout.astro';
import PageHero from '@components/common/PageHero.astro';
import UpdateDate from '@components/common/UpdateDate.astro';
import { getAllNews } from '@data/news';
import { formatDateKo } from '@lib/utils';

const newsItems = getAllNews();
---

<BaseLayout
  title="브리츠메디 뉴스 — 최신 소식"
  description="브리츠메디의 학회 참가, 제품 출시, 파트너십, 인증 획득 등 최신 소식을 확인하세요."
>
  <PageHero
    title="브리츠메디 뉴스 — 최신 소식"
    breadcrumb={[{ name: '뉴스', href: '/news' }]}
  />

  <div class="mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8">
    <p class="mb-10 text-lg text-neutral-600">
      브리츠메디의 학회 참가, 글로벌 파트너십 확대, 신제품 출시, 인증 획득 등 주요 소식을 전합니다.
    </p>

    <!-- 뉴스 목록 (APR newsroom list style) -->
    <div class="divide-y divide-neutral-200">
      {newsItems.map((news) => (
        <a
          href={`/news/${news.slug}`}
          class="group flex flex-col gap-2 py-6 transition-colors md:flex-row md:items-center md:justify-between md:gap-8"
        >
          <div class="flex-1">
            <div class="mb-2 flex items-center gap-3">
              <span class="inline-block rounded-full bg-neutral-100 px-3 py-1 text-xs font-semibold text-neutral-600">
                {news.category}
              </span>
            </div>
            <h2 class="text-lg font-bold text-neutral-900 group-hover:text-[#B8960C] transition-colors">
              {news.title}
            </h2>
            <p class="mt-1 line-clamp-1 text-sm text-neutral-500 md:hidden">
              {news.excerpt}
            </p>
          </div>
          <div class="flex shrink-0 items-center gap-4">
            <time datetime={news.publishedAt} class="text-sm text-neutral-400">
              {formatDateKo(news.publishedAt)}
            </time>
            <svg class="h-4 w-4 text-neutral-300 transition-transform group-hover:translate-x-1 group-hover:text-[#B8960C]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </div>
        </a>
      ))}
    </div>

    <UpdateDate />
  </div>
</BaseLayout>
