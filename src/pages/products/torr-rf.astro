---
import BaseLayout from '@layouts/BaseLayout.astro';
import SchemaOrg from '@components/aeo/SchemaOrg.astro';
import ProductHero from '@components/products/ProductHero.astro';
import ProductTLDR from '@components/products/ProductTLDR.astro';
import ProductTech from '@components/products/ProductTech.astro';
import ProductSpecs from '@components/products/ProductSpecs.astro';
import ProductCertifications from '@components/products/ProductCertifications.astro';
import ProductApplications from '@components/products/ProductApplications.astro';
import ProductFAQ from '@components/products/ProductFAQ.astro';
import ProductCTA from '@components/products/ProductCTA.astro';
import ProductRelated from '@components/products/ProductRelated.astro';
import UpdateDate from '@components/common/UpdateDate.astro';
import { getProduct } from '@data/products';
import { medicalDeviceSchema, faqSchema } from '@lib/schema';

const product = getProduct('torr-rf')!;

const deviceSchema = medicalDeviceSchema({
  name: product.name,
  nameKo: product.nameKo,
  description: product.firstSentence,
});
---

<BaseLayout>
  <SchemaOrg schema={[deviceSchema, faqSchema(product.faqs)]} slot="head" />

  <ProductHero
    name={product.name}
    nameKo={product.nameKo}
    subtitle="Multiwave RF Lifting"
    tagline={product.tagline}
    firstSentence={product.firstSentence}
    badge="미국 FDA 승인 의료기기"
    stats={[
      { value: "3", unit: "파장", label: "멀티웨이브 RF" },
      { value: "FDA", unit: "510(k)", label: "미국 FDA 승인" },
      { value: "0", unit: "원", label: "소모품 비용" },
    ]}
    heroImage={product.heroImage}
    heroVideo={product.videos.length > 0 ? product.videos[0] : undefined}
  />

  <ProductTLDR content={product.tldr} />

  <ProductTech title={product.techTitle} descriptions={product.techDescription} />

  <ProductSpecs specs={product.specs} />

  <ProductCertifications certifications={product.certifications} />

  <ProductApplications title="핸드피스 구성" applications={product.applications} />

  <ProductFAQ faqs={product.faqs} />

  <ProductCTA productName={product.name} />

  <ProductRelated items={product.relatedContent} />

  <!-- 의료기기 광고심의필 -->
  <section class="border-t border-zinc-100 bg-zinc-50 py-8">
    <div class="mx-auto max-w-4xl px-4 text-center sm:px-6 lg:px-8">
      <p class="text-xs leading-relaxed text-zinc-400">
        의료기기 광고심의필 | S2025-E11-49-8725 | 유효기간 2029.01.06<br />
        TORR RF는 의료기기이며, 의료인이 사용하는 전문 의료장비입니다.<br />
        이 제품은 「의료기기법」에 의한 의료기기이며, 효능과 안전성이 확보된 의료기기입니다.
      </p>
      <UpdateDate />
    </div>
  </section>
</BaseLayout>
