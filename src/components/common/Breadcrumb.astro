---
import SchemaOrg from '@components/aeo/SchemaOrg.astro';
import { breadcrumbSchema } from '@lib/schema';

interface Props {
  items: { name: string; href: string }[];
  theme?: 'light' | 'dark';
}

const { items, theme = 'light' } = Astro.props;
const allItems = [{ name: 'í™ˆ', href: '/' }, ...items];
const isDark = theme === 'dark';
---

<nav aria-label="breadcrumb" class="mb-6">
  <ol class:list={['flex flex-wrap items-center gap-1 text-xs tracking-wider', isDark ? 'text-zinc-500' : 'text-text-muted']}>
    {allItems.map((item, i) => (
      <li class="flex items-center gap-1">
        {i > 0 && <span class="mx-1">/</span>}
        {i === allItems.length - 1 ? (
          <span class:list={['font-medium', isDark ? 'text-white' : 'text-primary']}>{item.name}</span>
        ) : (
          <a href={item.href} class:list={[isDark ? 'hover:text-white' : 'hover:text-primary']}>{item.name}</a>
        )}
      </li>
    ))}
  </ol>
</nav>

<SchemaOrg schema={breadcrumbSchema(allItems)} />
